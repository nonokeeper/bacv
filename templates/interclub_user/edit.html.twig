{% extends 'base.html.twig' %}

{% block title %}BACV - Gestion Présences{% endblock %}

{% block body %}
<div class="message">
    {% for message in app.flashes('success') %}
    <p id="tmp" class="alert-ok">
        <i class="fas fa-check-circle">&nbsp;</i>{{ message }}
    </p>
    {% endfor %}
</div>
{% set name = interclub.name %}
{% set interclubId = interclub.id %}
    <div class="container mb-4">
        <div class="back"><a href="{{ path('myinterclubs') }}"><i class="fas fa-chevron-left">&nbsp;</i>Retour liste précédente</a></div>
        <div class="card border-secondary">
            <div class="card-header">
                {{ name }}
            </div>
            <div class="card-body text-dark">
                {% for joueur in joueurs %}
                    {% set val = '?' %}
                    {% for ie in interclubsUser %}
                        {% if (joueur.id == ie.user.id) %}
                            {% set val = ie.value %}
                        {% endif %}
                    {% endfor %}
                    <form name="presence" id="{{ interclubId }}-{{ joueur.id }}" action="{{ path('myinterclubs_save') }}" method="POST">
                        <div class="card-text d-flex flex-row">
                            <div class="p-2"><span class="{% if(joueur.gender == 'F') %}fille{% endif %}">{{ joueur.firstName }} {{ joueur.lastName }}</span>
                                <p>
                                <i class="far fa-arrow-alt-circle-right">&nbsp;</i>
                                <label for="oui">
                                    <input type="radio" id="oui" name="value" value="Oui" {% if(val=='Oui') %}checked{% endif %}/>
                                Présent</label>
                                <label for="non">
                                <input type="radio" id="non" name="value" value="Non" {% if(val=='Non') %}checked{% endif %}/>
                                Absent</label>
                                <label for="nsp">
                                <input type="radio" id="nsp" name="value" value="?" {% if(val=='?') %}checked{% endif %}/>
                                Inconnu</label>
                                <input type="hidden" name="type" value="Présence">
                                <input type="hidden" name="interclub" value="{{ interclubId }}">
                                <input type="hidden" name="joueur" value="{{ joueur.id }}">
                                </p>
                            </div>
                        </div>
                    </form>
                {% else %}
                    Vous devez être connecté !
                {% endfor %}
            </div>
            <div class="card-footer">
                {% if (previousInterclub) %}
                <span>
                    <a href="{{ path('myinterclubs_edit', {interclubId: previousInterclub.id}) }}">< Précédent</a>
                </span>
                {% endif %}
                {% if (nextInterclub) %}
                <span style="float:right">
                    <a href="{{ path('myinterclubs_edit', {interclubId: nextInterclub.id}) }}">Suivant ></a>
                </span>
                {% endif %}
                
            </div>
        </div>
    </div>

{% endblock %}
 