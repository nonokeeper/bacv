{% extends 'base.html.twig' %}

{% block title %}Connexion{% endblock %}

{% block body %}
    
    {% for message in app.flashes('notice') %}
        <div class="flash-notice">
            {{ message }}
        </div>
    {% endfor %}
    {% if error %}
        <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
    {% endif %}
    {% if app.user %}
        <div class="flash-notice">
            Bonjour {{ app.user.username }}
        </div>
    {% else %}
        <form class="form-signin" method="post">
            <div class="text-center w-50 p-2 mx-auto">
                <img src="images/badplayer.png" width="100" height="100">
                <div class="p-1"></div>
                <input class="form-control" type="text" value="{{ last_username }}" name="username" id="inputUsername" class="form-control" placeholder="Utilisateur" required autofocus>
                <div class="p-2"></div>
                <input class="form-control" type="password" name="password" id="inputPassword" class="form-control" placeholder="Mot de passe" required>
                <div class="text-left p-1">
                    <a href="{{ path('app_forgotten_password') }}">Mot de passe oubli√© ?</a>
                </div>
            </div>
            <div class="text-center w-25 p-2 mx-auto">
                <button class="btn btn-md btn-primary btn-block" type="submit">Entrer</button>
            </div>
            <input class="form-control" type="hidden" name="_csrf_token"
                        value="{{ csrf_token('authenticate') }}">
        </form>
    {% endif %}

{% endblock %}
